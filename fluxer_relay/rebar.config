{erl_opts, [debug_info, {parse_transform, lager_transform}]}.

{deps, [
    {cowboy, "2.12.0"},
    {gun, "2.1.0"},
    {lager, "3.9.2"}
]}.

{relx, [
    {release, {fluxer_relay, "0.1.0"}, [fluxer_relay, sasl, crypto, inets, ssl, public_key]},
    {mode, dev},
    {include_erts, false},
    {extended_start_script, true},
    {sys_config_src, "config/sys.config.src"},
    {vm_args_src, "config/vm.args.src"}
]}.

{profiles, [
    {prod, [
        {relx, [
            {mode, prod},
            {include_erts, true}
        ]}
    ]}
]}.

{shell, [
    {config, "config/sys.config.src"},
    {apps, [fluxer_relay]}
]}.

{project_plugins, [erlfmt]}.
{erlfmt, [write]}.

{dialyzer, [
    {plt_extra_apps, [inets, ssl, public_key]}
]}.
