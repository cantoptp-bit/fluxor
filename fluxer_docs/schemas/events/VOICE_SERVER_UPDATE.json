{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"name": "VOICE_SERVER_UPDATE",
	"description": "Sent when the voice server for a guild or call is updated.",
	"scope": "presence",
	"dispatchedBy": ["gateway"],
	"note": "Sent after joining a voice channel or when the voice server changes. Includes channel_id for both guild voice and DM calls.",
	"payload": {
		"type": "object",
		"properties": {
			"token": {
				"type": "string",
				"description": "Voice connection token for authenticating with the voice server"
			},
			"endpoint": {
				"type": "string",
				"description": "Voice server host (hostname:port)"
			},
			"connection_id": {
				"type": "string",
				"description": "Connection ID for this voice connection"
			},
			"guild_id": {
				"type": "string",
				"description": "Guild ID (present for guild voice channels)"
			},
			"channel_id": {
				"type": "string",
				"description": "Channel ID"
			}
		},
		"required": ["token", "endpoint", "connection_id"]
	}
}
